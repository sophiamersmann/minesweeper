(function(e){function t(t){for(var n,a,c=t[0],o=t[1],u=t[2],f=0,h=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&h.push(s[a][0]),s[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(h.length)h.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,c=1;c<i.length;c++){var o=i[c];0!==s[o]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={app:0},r=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/minesweeper/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23");function s(e,t,i,s,r,a){var c=Object(n["k"])("Grid");return Object(n["g"])(),Object(n["c"])(c)}var r=Object(n["q"])("data-v-2443b360");Object(n["i"])("data-v-2443b360");var a=Object(n["f"])("h1",null,"Minesweeper",-1),c=Object(n["f"])("label",{class:"label-top",for:"input-size"},"Size",-1),o={id:"select-difficulty"},u=Object(n["f"])("label",{class:"label-top",for:"input-size"},"Level",-1),l=Object(n["f"])("label",{class:"as-button",for:"input-easy"},"EASY",-1),f=Object(n["f"])("label",{class:"as-button",for:"input-intermediate"},"REASONABLE",-1),h=Object(n["f"])("label",{class:"as-button",for:"input-hard"},"HARD",-1),d=Object(n["f"])("label",{class:"as-button",for:"input-death"},"DEATH",-1),b=Object(n["f"])("div",{class:"label-top"},"Â ",-1),p=Object(n["f"])("div",{class:"description"},[Object(n["f"])("span",{class:"highlight"},"Left click"),Object(n["e"])(" Uncover Â  "),Object(n["f"])("span",{class:"highlight"},"Right click"),Object(n["e"])(" Flag ")],-1),g={key:0,class:"match-state"},v={key:0},O={key:1};Object(n["h"])();var j=r((function(e,t,i,s,r,j){var y=Object(n["k"])("Cell");return Object(n["g"])(),Object(n["c"])(n["a"],null,[a,Object(n["f"])("nav",null,[Object(n["f"])("div",null,[c,Object(n["o"])(Object(n["f"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.size=e}),type:"number",id:"input-size",min:"4",max:"32",onChange:t[2]||(t[2]=function(){return j.start.apply(j,arguments)})},null,544),[[n["n"],r.size,void 0,{number:!0}]])]),Object(n["f"])("div",o,[u,Object(n["f"])("div",null,[Object(n["o"])(Object(n["f"])("input",{type:"radio",id:"input-easy",value:"easy","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.difficulty=e}),onChange:t[4]||(t[4]=function(){return j.start.apply(j,arguments)})},null,544),[[n["m"],r.difficulty]]),l]),Object(n["f"])("div",null,[Object(n["o"])(Object(n["f"])("input",{type:"radio",id:"input-intermediate",value:"intermediate","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.difficulty=e}),onChange:t[6]||(t[6]=function(){return j.start.apply(j,arguments)}),checked:""},null,544),[[n["m"],r.difficulty]]),f]),Object(n["f"])("div",null,[Object(n["o"])(Object(n["f"])("input",{type:"radio",id:"input-hard",value:"hard","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.difficulty=e}),onChange:t[8]||(t[8]=function(){return j.start.apply(j,arguments)})},null,544),[[n["m"],r.difficulty]]),h]),Object(n["f"])("div",null,[Object(n["o"])(Object(n["f"])("input",{type:"radio",id:"input-death",value:"death","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.difficulty=e}),onChange:t[10]||(t[10]=function(){return j.start.apply(j,arguments)})},null,544),[[n["m"],r.difficulty]]),d])]),Object(n["f"])("div",null,[b,Object(n["f"])("button",{class:"dice",onClick:t[11]||(t[11]=function(){return j.start.apply(j,arguments)})},"ðŸŽ²")])]),Object(n["f"])("div",{class:["grid",j.classes]},[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(r.grid.matrix,(function(e,t){return Object(n["g"])(),Object(n["c"])("div",{class:"grid__row",key:[r.gameKey,t]},[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["j"])(e,(function(e,i){return Object(n["g"])(),Object(n["c"])(y,{class:"grid__cell",key:[r.gameKey,t,i],cell:e,onUncover:j.onUncover,onExplode:j.onExplode,onFlag:j.onFlag},null,8,["cell","onUncover","onExplode","onFlag"])})),128))])})),128))],2),p,r.state.isFinished?(Object(n["g"])(),Object(n["c"])("div",g,[r.state.isWon?(Object(n["g"])(),Object(n["c"])("div",v,"You won! ðŸŽ‰")):(Object(n["g"])(),Object(n["c"])("div",O,"Sorry! ðŸ˜¢"))])):Object(n["d"])("",!0)],64)})),y=(i("0481"),i("caad"),i("4069"),i("2532"),i("cb29"),i("4de4"),i("4160"),i("c975"),i("d81d"),i("4fad"),i("159b"),i("3835")),m=i("5530"),M=i("d4ec"),k=i("bee2"),x=i("91c8"),E=i.n(x),w=i("0f40"),F=i.n(w),z={hasMine:!1,isCovered:!0,isExploded:!1,isFlagged:!1,isDisabled:!1};function C(e){return function(t,i){return e[t]&&e[t][i]?e[t][i]:null}}function N(e,t,i){var n=C(e);return[n(t-1,i),n(t-1,i+1),n(t,i+1),n(t+1,i+1),n(t+1,i),n(t+1,i-1),n(t,i-1),n(t-1,i-1)]}var _=function(){function e(t,i){return Object(M["a"])(this,e),this.size=t,this.nMines=i,this.flat=Array(Math.pow(t,2)).fill().map((function(){return Object(m["a"])({},z)})),this.matrix=E()(this.flat,t),this.assignNeighbours().placeMines(),this}return Object(k["a"])(e,[{key:"placeMines",value:function(){while(this.flat.filter((function(e){return e.hasMine})).length<this.nMines)this.matrix[F()(this.size-1)][F()(this.size-1)].hasMine=!0;this.mines=this.flat.filter((function(e){return e.hasMine}));for(var e=0;e<this.flat.length;e+=1){var t=this.flat[e];t.mineNeighbours=t.neighbours.filter((function(e){return e.hasMine})),t.nMineNeighbours=t.mineNeighbours.length,t.isEmpty=!t.hasMine&&0===t.nMineNeighbours}for(var i=0;i<this.flat.length;i+=1){var n=this.flat[i];n.emptyNeighbours=n.neighbours.filter((function(e){return e.isEmpty}))}return this}},{key:"assignNeighbours",value:function(){for(var e=0;e<this.size;e+=1)for(var t=0;t<this.size;t+=1)this.matrix[e][t].neighbours=N(this.matrix,e,t).filter((function(e){return e}));return this}},{key:"shuffleMines",value:function(){return this.reset().placeMines(this.nMines),this}},{key:"reset",value:function(){for(var e=this,t=function(t){var i=e.flat[t];Object.entries(z).forEach((function(e){var t=Object(y["a"])(e,2),n=t[0],s=t[1];i[n]=s}))},i=0;i<this.flat.length;i+=1)t(i);return this}}],[{key:"computeEmptyArea",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.isEmpty&&-1===i.indexOf(t)&&(i.push(t),t.emptyNeighbours.forEach((function(t){t.emptyNeighbours.length&&e.computeEmptyArea(t,i)}))),i.forEach((function(e){e.isEmpty&&e.neighbours.forEach((function(e){!e.hasMine&&e.mineNeighbours.length&&-1===i.indexOf(e)&&i.push(e)}))})),i}}]),e}(),S=Object(n["q"])("data-v-c44de22e"),A=S((function(e,t,i,s,r,a){return Object(n["g"])(),Object(n["c"])("button",{class:["cell",a.classes],disabled:e.isDisabled,onClick:t[1]||(t[1]=Object(n["p"])((function(){return a.click.apply(a,arguments)}),["left"])),onContextmenu:t[2]||(t[2]=Object(n["p"])((function(){return a.flag.apply(a,arguments)}),["right","prevent"]))},Object(n["l"])(a.displayValue),43,["disabled"])})),U={name:"Cell",props:["cell"],data:function(){return this.cell},computed:{displayValue:function(){return this.hasMine?"â€¢":this.nMineNeighbours>0?this.nMineNeighbours:null},classes:function(){var e={"is-covered":this.isCovered,"is-flagged":this.isFlagged,"has-mine":this.hasMine};return e["has-".concat(this.nMineNeighbours,"-mine-neighbours")]=!0,e}},methods:{click:function(){var e=this.$data;if(this.uncover(e),this.hasMine)return this.isExploded=!0,void this.$emit("explode");if(this.isEmpty)for(var t=_.computeEmptyArea(e),i=0;i<t.length;i+=1){var n=t[i];this.uncover(n)}},uncover:function(e){e.isCovered=!1,e.isFlagged&&(e.isFlagged=!1),this.$emit("uncover",e)},flag:function(){this.isCovered?this.isFlagged=!this.isFlagged:this.isFlagged&&(this.isFlagged=!1),this.$emit("flag",this.$data)}}};i("6474");U.render=A,U.__scopeId="data-v-c44de22e";var P=U,V={gameKey:0,size:9,difficulty:"intermediate"},K={name:"Grid",components:{Cell:P},data:function(){return{gameKey:V.gameKey,size:V.size,difficulty:V.difficulty,state:{hasStarted:!1,isFinished:!1,isWon:!1},grid:null,uncovered:[],flagged:[]}},created:function(){this.start()},computed:{nMines:function(){return Math.floor(Math.pow(this.size,2)/{easy:16,intermediate:8,hard:4,death:2}[this.difficulty])},classes:function(){return{"is-finished":this.state.isFinished,"is-lost":!this.state.isWon}}},methods:{start:function(){this.gameKey+=1,this.state.isFinished=!1,this.state.isWon=!1,this.grid=new _(this.size,this.nMines),this.uncovered=[],this.flagged=[]},onUncover:function(e){this.uncovered.includes(e)||this.uncovered.push(e),this.checkState()},onFlag:function(e){this.flagged.includes(e)||this.flagged.push(e),this.checkState()},onExplode:function(){this.finish(),this.state.isWon=!1},checkState:function(){this.uncovered.length===Math.pow(this.grid.size,2)-this.nMines&&(this.state.isFinished=!0,this.state.isWon=!0)},finish:function(){this.state.isFinished=!0;for(var e=0;e<this.grid.mines.length;e+=1){var t=this.grid.mines[e];t.isCovered=!1}for(var i=0;i<this.grid.flat.length;i+=1){var n=this.grid.flat[i];n.isDisabled=!0}}}};i("a83b");K.render=j,K.__scopeId="data-v-2443b360";var W=K,D={name:"App",components:{Grid:W}};i("64be");D.render=s;var $=D;i("f5df1"),i("a531");Object(n["b"])($).mount("#app")},6474:function(e,t,i){"use strict";i("b3fa")},"64be":function(e,t,i){"use strict";i("c894")},"95bb":function(e,t,i){},a531:function(e,t,i){},a83b:function(e,t,i){"use strict";i("95bb")},b3fa:function(e,t,i){},c894:function(e,t,i){}});
//# sourceMappingURL=app.80c759f5.js.map